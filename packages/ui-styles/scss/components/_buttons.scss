// Button Component Styles
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;
@use '../abstracts/functions' as *;

// Button variants mixin
@mixin button-variant($variant: primary) {
  @if $variant == primary {
    background-color: var(--color-primary, #3b82f6);
    color: var(--color-white, #ffffff);
    
    &:hover:not(:disabled) {
      background-color: var(--color-primary-hover, #2563eb);
    }
    
    &:active:not(:disabled) {
      background-color: var(--color-primary-active, #1d4ed8);
    }
  } @else if $variant == secondary {
    background-color: transparent;
    color: var(--color-text-primary, #1f2937);
    border: 1px solid var(--color-border, #d1d5db);
    
    &:hover:not(:disabled) {
      background-color: var(--color-gray-50, #f9fafb);
      border-color: var(--color-border-hover, #9ca3af);
    }
    
    &:active:not(:disabled) {
      background-color: var(--color-gray-100, #f3f4f6);
    }
  } @else if $variant == ghost {
    background-color: transparent;
    color: var(--color-text-primary, #1f2937);
    
    &:hover:not(:disabled) {
      background-color: var(--color-gray-50, #f9fafb);
    }
    
    &:active:not(:disabled) {
      background-color: var(--color-gray-100, #f3f4f6);
    }
  } @else if $variant == danger {
    background-color: var(--color-error, #dc2626);
    color: var(--color-white, #ffffff);
    
    &:hover:not(:disabled) {
      background-color: var(--color-error-hover, #b91c1c);
    }
    
    &:active:not(:disabled) {
      background-color: var(--color-error-active, #991b1b);
    }
  }
}

// Base button class
.btn {
  @include button-base;
  @include button-size(md);
  @include button-variant(primary);
  
  // Size variants
  &--sm {
    @include button-size(sm);
  }
  
  &--lg {
    @include button-size(lg);
  }
  
  // Style variants
  &--primary {
    @include button-variant(primary);
  }
  
  &--secondary {
    @include button-variant(secondary);
  }
  
  &--ghost {
    @include button-variant(ghost);
  }
  
  &--danger {
    @include button-variant(danger);
  }
  
  // Full width
  &--full {
    width: 100%;
  }
  
  // Loading state
  &--loading {
    position: relative;
    color: transparent;
    
    &::after {
      content: '';
      position: absolute;
      width: 1rem;
      height: 1rem;
      top: 50%;
      left: 50%;
      margin-left: -0.5rem;
      margin-top: -0.5rem;
      border: 2px solid transparent;
      border-top-color: currentColor;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}